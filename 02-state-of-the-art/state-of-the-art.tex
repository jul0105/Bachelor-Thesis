\documentclass[../report.tex]{subfiles}

\begin{document}

% Chapter State of the art
% - Concepts (before diving into the protocoles, it is important to understand some concepts)
% - Outlines of the KAPE landscape (all PAKEs, history, overview)
% - Mains PAKEs (differences, improvement, tableau comparatif, pas besoin de d√©crire les constructions)
%   - EKE
%   - SRP
%   - OPAQUE
%   - KHAPE
% - PAKE choice (and reasons)

% (Attack on PAKEs ?)


% Chapter OPAQUE or Chapter KHAPE (depending on the PAKE choice)
% - detail construction (protocol) of the choosen PAKE


\chapter{State of the art}
\section{Main PAKEs}

\subsection{OPAQUE}


\paragraph{Design}
Jarecki and al. \cite{}. introduce the definition of Strong aPake (SaPAKE): an aPake secure against pre-computation attacks.

They provides two modular constructions, called the OPAQUE protocol that allow to builds SaPake protocols. The first construction allow to enhance any aPake to a SaPAKE while the second allow to enhance any Authenticated Key-Exchange (AKE) protocol (that are secure against KCI attacks) to an SaPAKE.
The security of these two construction is based on Oblivious PRF (OPRF) functions \cite{}.

These functions allow for each party, namely the client and the server, to input a secret value and then the client can use the output as a key. Neither party can learn the other party's secret and the server cannot learn the output of the function.

Overall, the OPAQUE protocol allow to secure authentication from the simplest applications to the most sensitive ones.


\begin{figure}[h]
 \centering
 \includegraphics[width=\textwidth]{OPAQUE.png}
 % OPAQUE.png: 2166x1206 px, 72dpi, 76.41x42.54 cm, bb=0 0 2166 1206
 \caption{Login process with OPAQUE protocol using OPRF and AKE.}
 \label{fig:OPAQUE_AKE}
\end{figure}




\paragraph{Construction}

Figure \ref{fig:OPAQUE_AKE} shows the OPAQUE protocol using OPRF and AKE during login process.
The steps are the following :

(1) Generate a random value r to blind the hash of password so that the server cannot retrieve the password from the mapping.
(2) Send result to server
(3) Server add the salt to the password
(4) Client calculate the exponant of the inverse of r to unblind the value. He canno't retrieve salt.
(5) With the secret salt salt2, client compute secret key sk.
(6) Server send encrypted keys ek to clients. ek contains server's public key and client's private key encrypted with sk.
(7) If the password entered is correct, client can use sk to decrypt ek and retrieve his private key privU
(8) With both keys, clients and server can run an authenticated key exchange for mutual authentication.


\paragraph{Register}
When a client want to register, the client generate a public/private key pair. He then encrypt his private key and the server's public key with the secret key (OPRF's output).
$C = Encrypt_rw_(client's private key | server's public key)$

Then he send the ciphertext to the server to store.


\paragraph{Login}
For the login phase, the client enter it's password in the OPRF and the server send the ciphertext to the client.
If the password entered is correct, the client can decrypt the ciphertext with OPRF output to obtain his private key and the server's public key.
He then use these keys to run a authenticated key exchange with the server (like HMQV ?).

In the other hand, if the password is wrong, the OPRF output is totally different and the ciphertext decryption make the keys uncorrect and the server will refuse it during the key exchange (?). % TODO confirmation




\section{Comparing mains solutions}

This section compare the mains PAKEs on their security guarantees and performances. Details and comments on each criteria can be found on Section \ref{sec:comparison_details}.

\begin{center}
   \begin{tabular}{ | c | p{8cm} || c | c | c | c | c | }
     \hline
     \textbf{\#} & \textbf{Criteria} & \textbf{EKE} & \textbf{SRP} & \textbf{OPAQUE} & \textbf{KHAPE} \\ \hline
     
     % Content :
     
     % Qualities (security guarantees)
     
     1 & Avoid sending cleartext password to server (aPAKE) & x & x & Yes & x \\ \hline
     
     2 & Secure against pre-computation attacks {"What's needed is that upon a server compromised, and the stealing of the password file, an attacker is forced to perform an exhaustive offline dictionary attack."} (SaPAKE) & x & x & Yes & x \\ \hline
     
     3 & (Salt not sent in cleartext) & x & x & Yes & x \\ \hline
     4 & Forward secrecy & x & x & Yes & x \\ \hline
     5 & "Explicit mutual authentication" & x & x & Yes & x \\ \hline
     6 & "PKI-free (registration?)" & x & x & Yes & x \\ \hline
     7 & "supports user-side password hardening" & x & x & Yes & x \\ \hline
     8 & "has a built-in facility for password-based storage-and-retrieval of secrets and credentials" & x & x & Yes & x \\ \hline
     9 & "accommodates a user-transparent server-side threshold implementation" & x & x & Yes & x \\ \hline
     10 &"far more secure alternative to the practice of deriving low-entropy secrets directly from a user's password" & x & x & Yes & x \\ \hline
     
     11 & Vulnerable to Oblivious PRF compromise & x & x & Yes & x \\ \hline
     12 & Internet standard & x & x & Draft & x \\ \hline
     
     13 & "security proof in a very strong model" & x & x & Yes & x \\ \hline
     
     % Performances
     
     14 & Easily adaptable to elliptics curves & x & x & Yes & x \\ \hline
     15 & Number of messages & x & x & 3 ? & x \\ \hline
     16 & Number of exponentiations & x & x & 3 or 4 ? & x \\ \hline

     \end{tabular}
 \end{center}
 
\subsection{Details} \label{sec:comparison_details}

\begin{enumerate}
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
 \item x
\end{enumerate}






\end{document}
